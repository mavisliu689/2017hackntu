<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>投資永續企業 Invest Sustainable Corporation</title>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <link href="static/reset.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-default/index.css">
  <link href="static/styles.css" rel="stylesheet">
</head>
<body>
  <div id="app">
    <el-menu theme="dark" :default-active="activeIndex" class="el-menu-demo" mode="horizontal" @select="handleSelect">
      <el-menu-item index="1"><a href="/">投資永續企業 Invest Sustainable Corporation</a></el-menu-item>
      <el-menu-item index="2"><a href="/">企業名單</a></el-menu-item>
    </el-menu>
    <el-row type="flex" class="question__form">
      <el-table
        :data="tableData3"
        height="250"
        border
        style="width: 100%">
        <el-table-column
          prop="name"
          label="企業名稱"
          width="180">
        </el-table-column>
        <el-table-column
          prop="industry_type"
          label="企業類型"
          width="180">
        </el-table-column>
        <el-table-column
          prop="stock_id"
          label="股票代號">
        </el-table-column>
        <el-table-column
          prop="PR"
          label="社會PR">
        </el-table-column>
        <el-table-column
          prop="stock_type"
          label="股票類型">
        </el-table-column>                
      </el-table>
    </el-row>
    <el-row type="flex" class="question__form" justify="end">
      <el-pagination
        @current-change="handleCurrentChange"
        :current-page.sync="currentPage3"
        :page-size="100"
        layout="prev, pager, next, jumper"
        :total="1000">
      </el-pagination>
    </el-row>
  </div>
  <script>
    new Vue({
      el: '#app',
      data: {
        activeIndex: '2',
        currentPage3: 1,
        tableData3: [],
      },
      mounted() {
        //  dataStr = JSON.parse( JSON.stringify( '{{ data|tojson|safe }}' ))
        const dataStr = JSON.parse(JSON.stringify('{{ data|safe }}'));
		const jsonData_o = eval('(' + dataStr + ')')

        // const data = JSON.parse(dataStr)
        this.tableData3 = jsonData_o
        // console.log(jsonData_o)
        // console.log(this.tableData3)
      },
      methods: {
        handleCurrentChange(val) {
          console.log(`current page: ${val}`);
        },
        handleSelect(key, keyPath) {
          console.log(key, keyPath);
        }
      }
    })
  </script>
</body>
</html>